(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[14],{127:function(e,t,n){},181:function(e,t,n){"use strict";var r=n(182).CopyToClipboard;r.CopyToClipboard=r,e.exports=r},182:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var a=i(n(1)),o=i(n(183)),c=["text","onCopy","options","children"];function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var a=j(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(s,e);var t,n,r,i=b(s);function s(){var e;p(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(y(e=i.call.apply(i,[this].concat(n))),"onClick",(function(t){var n=e.props,r=n.text,c=n.onCopy,i=n.children,s=n.options,l=a.default.Children.only(i),u=(0,o.default)(r,s);c&&c(r,u),l&&l.props&&"function"===typeof l.props.onClick&&l.props.onClick(t)})),e}return t=s,(n=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=u(e,c),r=a.default.Children.only(t);return a.default.cloneElement(r,l(l({},n),{},{onClick:this.onClick}))}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(a.default.PureComponent);t.CopyToClipboard=g,h(g,"defaultProps",{onCopy:void 0,options:void 0})},183:function(e,t,n){"use strict";var r=n(184),a={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,o,c,i,s,l,u=!1;t||(t={}),n=t.debug||!1;try{if(c=r(),i=document.createRange(),s=document.getSelection(),(l=document.createElement("span")).textContent=e,l.ariaHidden="true",l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=a[t.format]||a.default;window.clipboardData.setData(o,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(l),i.selectNodeContents(l),s.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(p){n&&console.error("unable to copy using execCommand: ",p),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(p){n&&console.error("unable to copy using clipboardData: ",p),n&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{s&&("function"==typeof s.removeRange?s.removeRange(i):s.removeAllRanges()),l&&document.body.removeChild(l),c()}return u}},184:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},409:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n(11),o=n(7),c=n(1),i=n(121),s=n(51),l=n(49),u=n(5),p=n(43),d=n(50),f=n.n(d),b=n(138),m=n.n(b),y=n(213),j=n(139),h=n.n(j),g=n(181),v=n(123),O=n(52),x=(n(127),n(10));t.default=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.auth})),n=Object(c.useState)(""),d=Object(o.a)(n,2),b=d[0],j=d[1],C=Object(c.useState)(!1),w=Object(o.a)(C,2),k=w[0],S=w[1],P=Object(u.l)(),T=Object(c.useState)(0),D=Object(o.a)(T,2),N=D[0],E=D[1],L=Object(c.useState)(10),R=Object(o.a)(L,2),_=R[0],A=R[1],I=Object(c.useState)(""),U=Object(o.a)(I,2),z=U[0],F=U[1],M=Object(c.useState)([]),B=Object(o.a)(M,2),W=B[0],H=B[1],J=Object(c.useState)([]),q=Object(o.a)(J,2),K=q[0],X=q[1],G=Object(c.useState)([]),Q=Object(o.a)(G,2),V=Q[0],Y=Q[1],Z=i.a.create();Z.interceptors.request.use(function(){var n=Object(a.a)(Object(r.a)().mark((function n(a){var o,c,l;return Object(r.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!(1e3*(null===t||void 0===t||null===(o=t.user)||void 0===o?void 0:o.exp)<Date.now()||""===t.accessToken)&&t.accessToken){n.next=11;break}return n.next=4,i.a.get(v.b.token);case 4:c=n.sent,a.headers.Authorization="Bearer ".concat(c.data.accessToken),l=Object(s.a)(c.data.accessToken),e(Object(O.b)(c.data.accessToken)),e(Object(O.c)(l)),n.next=12;break;case 11:a.headers.Authorization="Bearer ".concat(t.accessToken);case 12:n.next=16;break;case 14:n.prev=14,n.t0=n.catch(0);case 16:return n.prev=16,n.abrupt("return",a);case 19:case"end":return n.stop()}}),n,null,[[0,14,16,19]])})));return function(e){return n.apply(this,arguments)}}(),(function(e){return Promise.reject(e)}));var $=function(){Z.get("".concat(v.a,"/user/affiliate/")).then((function(e){H(e.data.data.child),j(e.data.data.code),X(e.data.data.child.slice(0,_))})).catch((function(){}))};Object(c.useEffect)((function(){var n;""===t.accessToken||!t.accessToken||1e3*(null===(n=t.user)||void 0===n?void 0:n.exp)<Date.now()?i.a.get(v.b.token).then((function(t){var n=t.data,r=Object(s.a)(n.accessToken);e(Object(O.b)(n.accessToken)),e(Object(O.c)(r)),$()})).catch((function(e){console.log(e),P("/auth/login")})):$()}),[]);var ee=[{sortable:!0,name:"Name",sortField:"name",selector:function(e){return e.name}},{sortable:!0,name:"Email",sortField:"email",selector:function(e){return e.email}},{sortable:!0,name:"Upgrade",sortField:"upgrade",selector:function(e){return e.has_upgrade?"\u2705":"\u274c"}},{sortable:!0,name:"Date Upgrade",sortField:"date_upgrade",selector:function(e){return e.date_upgrade?Object(v.e)(e.date_upgrade):""}},{sortable:!0,name:"Reward",sortField:"reward",selector:function(e){return e.reward||""}},{sortable:!0,name:"Product",sortField:"product",selector:function(e){return e.type||""}}];return b?Object(x.jsx)(c.Fragment,{children:Object(x.jsxs)(p.h,{children:[Object(x.jsx)(p.k,{className:"border-bottom",children:Object(x.jsx)(p.n,{tag:"h4",children:"Invite"})}),Object(x.jsxs)(p.J,{className:"mx-0 mt-1 mb-50",children:[Object(x.jsx)(p.o,{sm:"6",children:Object(x.jsxs)("div",{className:"d-flex align-items-center",children:[Object(x.jsx)(p.y,{for:"sort-select",children:"show"}),Object(x.jsxs)(p.v,{className:"dataTable-select",type:"select",id:"sort-select",value:_,onChange:function(e){return function(e){var t=parseInt(e.currentTarget.value);A(t),X(W.slice(t*(N+1)-t,t*(N+1)))}(e)},children:[Object(x.jsx)("option",{value:10,children:"10"}),Object(x.jsx)("option",{value:25,children:"25"}),Object(x.jsx)("option",{value:50,children:"50"}),Object(x.jsx)("option",{value:75,children:"75"}),Object(x.jsx)("option",{value:100,children:"100"})]}),Object(x.jsx)(p.y,{for:"sort-select",children:"entries"})]})}),Object(x.jsxs)(p.o,{className:"d-flex align-items-center justify-content-sm-end mt-sm-0 mt-1",sm:"6",children:[Object(x.jsx)(p.y,{className:"me-1",for:"search-input",children:"Search"}),Object(x.jsx)(p.v,{className:"dataTable-filter",type:"text",bsSize:"sm",id:"search-input",value:z,onChange:function(e){var t=e.target.value,n=[];F(t),t.length&&(n=W.filter((function(e){var n=!!Object.entries(e).find((function(e){var n=Object(o.a)(e,2)[1];return Array.isArray(n)?n.find((function(e){return e.toLowerCase().startsWith(t.toLowerCase())})):"string"===typeof n?n.toLowerCase().startsWith(t.toLowerCase()):"number"===typeof n&&String(n).toLowerCase().startsWith(t.toLowerCase())})),r=!!Object.entries(e).find((function(e){var n=Object(o.a)(e,2)[1];return"string"===typeof n?n.toLowerCase().includes(t.toLowerCase()):"number"===typeof n&&String(n).toLowerCase().includes(t.toLowerCase())}));return n||(!n&&r?r:null)})),Y(n),F(t))}}),Object(x.jsx)(g.CopyToClipboard,{onCopy:function(){return f.a.success("Copied To Clipboard !")},text:"https://wibusoft.com/invite?code=".concat(b),children:Object(x.jsx)(p.f,{color:"primary",size:"sm",className:"ms-1",children:"Copy my Invitation"})})]})]}),Object(x.jsx)("div",{className:"react-dataTable",children:Object(x.jsx)(h.a,{noHeader:!0,pagination:!0,paginationServer:!0,className:"react-dataTable",columns:ee,sortIcon:Object(x.jsx)(y.a,{size:10}),paginationComponent:function(){return Object(x.jsx)(m.a,{previousLabel:"",nextLabel:"",forcePage:N,onPageChange:function(e){return function(e){E(e.selected),X(W.slice(_*(e.selected+1)-_,_*(e.selected+1)))}(e)},pageCount:z.length?Math.ceil(V.length/_):Math.ceil(W.length/_),breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",nextLinkClassName:"page-link",pageLinkClassName:"page-link",breakLinkClassName:"page-link",previousLinkClassName:"page-link",nextClassName:"page-item next-item",previousClassName:"page-item prev-item",containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pe-1 mt-1"})},paginationDefaultPage:N+1,data:z.length?V:K})})]})}):Object(x.jsx)(p.h,{className:"text-center",children:Object(x.jsxs)(p.i,{children:[Object(x.jsx)("h4",{children:"Share Wibusoft ke teman mu dan dapatkan Nitro gratis selama 7 Hari!"}),k?Object(x.jsxs)(p.f,{variant:"primary",disabled:!0,children:[Object(x.jsx)(p.K,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"})," ","Loading..."]}):Object(x.jsx)(p.f,{color:"primary",onClick:function(){return S(!0),void Z.post("".concat(v.a,"/user/affiliate/create")).then((function(e){if(S(!1),!1===e.data.status)return f.a.error(e.data.message);f.a.success(e.data.message),H(e.data.data.child),j(e.data.data.code),X(e.data.data.child.slice(0,_))})).catch((function(e){var t,n;S(!1),f.a.error(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))},children:"Create my invitation"})]})})}}}]);
//# sourceMappingURL=14.6643e635.chunk.js.map