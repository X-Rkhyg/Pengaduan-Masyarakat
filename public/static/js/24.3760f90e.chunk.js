(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[24],{127:function(e,t,a){},405:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(11),s=a(7),r=a(1),i=a(121),o=a(51),l=a(49),u=a(5),b=a(138),d=a.n(b),j=a(213),p=a(139),h=a.n(p),f=a(43),m=a(123),g=a(52),O=(a(127),a(10));t.default=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.auth})),a=Object(u.l)(),b=Object(r.useState)(0),p=Object(s.a)(b,2),v=p[0],x=p[1],k=Object(r.useState)(10),C=Object(s.a)(k,2),y=C[0],N=C[1],w=Object(r.useState)(""),L=Object(s.a)(w,2),T=L[0],S=L[1],D=Object(r.useState)([]),A=Object(s.a)(D,2),P=A[0],I=A[1],F=Object(r.useState)([]),E=Object(s.a)(F,2),z=E[0],J=E[1],M=Object(r.useState)([]),R=Object(s.a)(M,2),W=R[0],B=R[1],U=i.a.create();U.interceptors.request.use(function(){var a=Object(c.a)(Object(n.a)().mark((function a(c){var s,r,l;return Object(n.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!(1e3*(null===t||void 0===t||null===(s=t.user)||void 0===s?void 0:s.exp)<Date.now()||""===t.accessToken)&&t.accessToken){a.next=11;break}return a.next=4,i.a.get(m.b.token);case 4:r=a.sent,c.headers.Authorization="Bearer ".concat(r.data.accessToken),l=Object(o.a)(r.data.accessToken),e(Object(g.b)(r.data.accessToken)),e(Object(g.c)(l)),a.next=12;break;case 11:c.headers.Authorization="Bearer ".concat(t.accessToken);case 12:a.next=16;break;case 14:a.prev=14,a.t0=a.catch(0);case 16:return a.prev=16,a.abrupt("return",c);case 19:case"end":return a.stop()}}),a,null,[[0,14,16,19]])})));return function(e){return a.apply(this,arguments)}}(),(function(e){return Promise.reject(e)}));var _=function(){U.get("".concat(m.a,"/pricing/myinvoice")).then((function(e){I(e.data.result),J(e.data.result.slice(0,y))})).catch((function(){}))};Object(r.useEffect)((function(){var n;""===t.accessToken||!t.accessToken||1e3*(null===(n=t.user)||void 0===n?void 0:n.exp)<Date.now()?i.a.get(m.b.token).then((function(t){var a=t.data,n=Object(o.a)(a.accessToken);e(Object(g.b)(a.accessToken)),e(Object(g.c)(n)),_()})).catch((function(e){console.log(e),a("/auth/login")})):_()}),[]);var q=[{sortable:!0,name:"Order ID",sortField:"id",selector:function(e){return e.order_id}},{sortable:!0,name:"Product",sortField:"product",selector:function(e){return"".concat(e.count,"x ").concat(e.product)}},{sortable:!0,name:"Create At",sortField:"createAt",selector:function(e){return Object(m.e)(e.createAt)}},{sortable:!0,name:"Status",sortField:"status",selector:function(e){return e.status},cell:function(e){var t="warning";switch(e.status){case"PAID":t="success";break;case"FAILED":case"EXPIRED":t="danger";break;case"UNPAID":t="warning";break;case"REFUND":t="info";break;default:t="secondary"}return Object(O.jsx)(f.e,{color:"light-".concat(t),pill:!0,style:{cursor:"pointer"},onClick:function(){return a("/user/invoice/".concat(e.order_id))},children:e.status})}}];return Object(O.jsx)(r.Fragment,{children:Object(O.jsxs)(f.h,{children:[Object(O.jsx)(f.k,{className:"border-bottom",children:Object(O.jsx)(f.n,{tag:"h4",children:"My Invoice"})}),Object(O.jsxs)(f.J,{className:"mx-0 mt-1 mb-50",children:[Object(O.jsx)(f.o,{sm:"6",children:Object(O.jsxs)("div",{className:"d-flex align-items-center",children:[Object(O.jsx)(f.y,{for:"sort-select",children:"show"}),Object(O.jsxs)(f.v,{className:"dataTable-select",type:"select",id:"sort-select",value:y,onChange:function(e){return function(e){var t=parseInt(e.currentTarget.value);N(t),J(P.slice(t*(v+1)-t,t*(v+1)))}(e)},children:[Object(O.jsx)("option",{value:10,children:"10"}),Object(O.jsx)("option",{value:25,children:"25"}),Object(O.jsx)("option",{value:50,children:"50"}),Object(O.jsx)("option",{value:75,children:"75"}),Object(O.jsx)("option",{value:100,children:"100"})]}),Object(O.jsx)(f.y,{for:"sort-select",children:"entries"})]})}),Object(O.jsxs)(f.o,{className:"d-flex align-items-center justify-content-sm-end mt-sm-0 mt-1",sm:"6",children:[Object(O.jsx)(f.y,{className:"me-1",for:"search-input",children:"Search"}),Object(O.jsx)(f.v,{className:"dataTable-filter",type:"text",bsSize:"sm",id:"search-input",value:T,onChange:function(e){var t=e.target.value,a=[];S(t),t.length&&(a=P.filter((function(e){var a=!!Object.entries(e).find((function(e){var a=Object(s.a)(e,2)[1];return Array.isArray(a)?a.find((function(e){return e.toLowerCase().startsWith(t.toLowerCase())})):"string"===typeof a?a.toLowerCase().startsWith(t.toLowerCase()):"number"===typeof a&&String(a).toLowerCase().startsWith(t.toLowerCase())})),n=!!Object.entries(e).find((function(e){var a=Object(s.a)(e,2)[1];return"string"===typeof a?a.toLowerCase().includes(t.toLowerCase()):"number"===typeof a&&String(a).toLowerCase().includes(t.toLowerCase())}));return a||(!a&&n?n:null)})),B(a),S(t))}})]})]}),Object(O.jsx)("div",{className:"react-dataTable",children:Object(O.jsx)(h.a,{noHeader:!0,pagination:!0,paginationServer:!0,className:"react-dataTable",columns:q,sortIcon:Object(O.jsx)(j.a,{size:10}),paginationComponent:function(){return Object(O.jsx)(d.a,{previousLabel:"",nextLabel:"",forcePage:v,onPageChange:function(e){return function(e){x(e.selected),J(P.slice(y*(e.selected+1)-y,y*(e.selected+1)))}(e)},pageCount:T.length?Math.ceil(W.length/y):Math.ceil(P.length/y),breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",nextLinkClassName:"page-link",pageLinkClassName:"page-link",breakLinkClassName:"page-link",previousLinkClassName:"page-link",nextClassName:"page-item next-item",previousClassName:"page-item prev-item",containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pe-1 mt-1"})},paginationDefaultPage:v+1,data:T.length?W:z})})]})})}}}]);
//# sourceMappingURL=24.3760f90e.chunk.js.map